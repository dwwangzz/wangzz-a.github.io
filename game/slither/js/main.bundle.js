!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){for(var e=0;t>e;e++){var i=~~(30*Math.random()+50),n=~~(i/3);P.push(new d.default({x:~~(Math.random()*(g.default.width-2*n)+n),y:~~(Math.random()*(g.default.height-2*n)+n),size:n,point:i}))}}function a(t){for(var e=0;t>e;e++){var i=40;k.push(new c.default({x:~~(Math.random()*(g.default.width-2*i)+i),y:~~(Math.random()*(g.default.height-2*i)+i),size:i,length:10,fillColor:"#ccc",robot:!0}))}}function o(t,e,i){var n=t.x-e.x,r=t.y-e.y;return i?Math.abs(n)<t.width+e.width&&Math.abs(r)<t.height+e.height:Math.hypot(n,r)<(t.width+e.width)/2}function s(){var t=new Date;if(x.begin(),t-E>O){g.default.clear(),y.default.track(m),g.default.render(),P.slice(0).forEach(function(t){if(t.render(),t.visible&&o(m.header,t)){var e=m.eat(t);return P.splice(P.indexOf(t),1),r(1),void g.default.setScale(g.default.scale+e/(3*m.header.width))}});for(var e=0;e<k.length;e++){var i=k[e];(!i.time||!i.nextTime||t-i.time>i.nextTime)&&(i.time=new Date,i.nextTime=5e3*Math.random(),i.header.directTo(Math.random()*Math.PI*2)),i.render()}m.render(),g.default.renderSmallMap(),g.default.update(),E=t}x.end(),b(s)}var h=i(1),l=n(h),u=i(2),c=n(u),f=i(11),d=n(f),p=i(4),y=n(p),v=i(3),g=n(v),b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},w=document.getElementById("cas");w.width=window.innerWidth,w.height=window.innerHeight;var x=new l.default;document.body.appendChild(x.dom),g.default.init({canvas:w,width:1e4,height:1e4}),y.default.init({x:1e3,y:1e3,width:w.width,height:w.height});var m=new c.default({x:y.default.x+y.default.width/2,y:y.default.y+y.default.height/2,size:40,length:10}),_=1e3,P=[],M=0,k=[];r(_),a(M);var O=0,E=new Date;s()},function(t,e){var i=function(){function t(t){return r.appendChild(t.dom),t}function e(t){for(var e=0;e<r.children.length;e++)r.children[e].style.display=e===t?"block":"none";n=t}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(t){t.preventDefault(),e(++n%r.children.length)},!1);var a=(performance||Date).now(),o=a,s=0,h=t(new i.Panel("FPS","#0ff","#002")),l=t(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=t(new i.Panel("MB","#f08","#201"));return e(0),{REVISION:16,dom:r,addPanel:t,showPanel:e,begin:function(){a=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(l.update(t-a,200),t>o+1e3&&(h.update(1e3*s/(t-o),100),o=t,s=0,u)){var e=performance.memory;u.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){a=this.end()},domElement:r,setMode:e}};i.Panel=function(t,e,i){var n=1/0,r=0,a=Math.round,o=a(window.devicePixelRatio||1),s=80*o,h=48*o,l=3*o,u=2*o,c=3*o,f=15*o,d=74*o,p=30*o,y=document.createElement("canvas");y.width=s,y.height=h,y.style.cssText="width:80px;height:48px";var v=y.getContext("2d");return v.font="bold "+9*o+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=i,v.fillRect(0,0,s,h),v.fillStyle=e,v.fillText(t,l,u),v.fillRect(c,f,d,p),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(c,f,d,p),{dom:y,update:function(h,g){n=Math.min(n,h),r=Math.max(r,h),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,s,f),v.fillStyle=e,v.fillText(a(h)+" "+t+" ("+a(n)+"-"+a(r)+")",l,u),v.drawImage(y,c+o,f,d-o,p,c,f,d-o,p),v.fillRect(c+d-o,f,o,p),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(c+d-o,f,o,a((1-h/g)*p))}}},"object"==typeof t&&(t.exports=i)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),s=n(o),h=i(7),l=n(h),u=i(10),c=n(u),f=i(6),d={store:{},getImage:function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];var r=i.concat(t).join("_");return this.store.hasOwnProperty(r)?this.store[r]:(this.store[r]=0===t?this.createBodyImg.apply(this,i):this.createHeaderImg.apply(this,i),this.store[r])},createBodyImg:function(t,e,i,n){var r=document.createElement("canvas"),a=r.getContext("2d");return r.width=t+4,r.height=e+4,a.lineWidth=1.5,a.beginPath(),a.arc(r.width/2,r.height/2,t/2,0,2*Math.PI),a.fillStyle=i,a.strokeStyle=n,a.stroke(),a.fill(),r},createHeaderImg:function(t,e,i,n){function r(t,e){o.beginPath(),o.fillStyle="#fff",o.strokeStyle=n,o.arc(t,e,s,0,2*Math.PI),o.fill(),o.stroke(),o.beginPath(),o.fillStyle="#000",o.arc(t+s/2,e,s/4,0,2*Math.PI),o.fill()}var a=this.createBodyImg(t,e,i,n),o=a.getContext("2d"),s=.2*t;return r(a.width/2+t/2-s,a.height/2-e/2+s),r(a.width/2+t/2-s,a.height/2+e/2-s),a}},p=function(){function t(e){r(this,t);var i=60,n=60,a=e.fillColor||"#fff",o=e.strokeColor||"#000";this.bodys=[],this.point=0,this.robot=e.robot,this.bodyImage=d.getImage(0,i,n,a,o),this.headerImage=d.getImage(1,i,n,a,o),this.init(e)}return a(t,[{key:"init",value:function(t){this.header=new c.default(Object.assign(t,{img:this.headerImage}));for(var e=0;e<t.length;e++)this.bodys.push(new l.default(Object.assign(t,{tracer:this.bodys[e-1]||this.header,img:this.bodyImage})));this.robot||this.binding()}},{key:"binding",value:function(){var t=this;navigator.userAgent.match(/(iPhone|iPod|Android|ios)/i)?(window.addEventListener("touchmove",function(e){e.preventDefault(),t.moveTo(e.touches[0].pageX,e.touches[0].pageY)}),window.addEventListener("touchstart",function(e){e.preventDefault(),t.moveTo(e.touches[0].pageX,e.touches[0].pageY)})):(window.addEventListener("mousemove",function(){var e=arguments.length<=0||void 0===arguments[0]?window.event:arguments[0];return t.moveTo(e.clientX,e.clientY)}),window.addEventListener("mousedown",t.speedUp.bind(t)),window.addEventListener("mouseup",t.speedDown.bind(t)))}},{key:"speedUp",value:function(){this.header.speed=5,this.bodys.forEach(function(t){t.speed=5})}},{key:"speedDown",value:function(){this.header.speed=f.SPEED,this.bodys.forEach(function(t){t.speed=f.SPEED})}},{key:"moveTo",value:function(t,e){var i=t-this.header.paintX,n=this.header.paintY-e,r=Math.atan(Math.abs(i/n));i>0&&0>n?r=Math.PI-r:0>i&&0>n?r=Math.PI+r:0>i&&n>0&&(r=2*Math.PI-r),this.header.directTo(r)}},{key:"eat",value:function(t){this.foodNum=this.foodNum||0,this.point+=t.point,this.foodNum++;var e=t.point/100;if(this.header.setSize(this.header.width+e),this.bodys.forEach(function(t){t.setSize(t.width+e)}),this.foodNum%2===0){var i=this.bodys[this.bodys.length-1];this.bodys.push(new l.default({x:i.x,y:i.y,size:i.width,tracer:i,img:this.bodyImage}))}return e}},{key:"render",value:function(){var t=this.header.width/2;this.header.x<t?this.header.x=t:this.header.x+t>s.default.width&&(this.header.x=s.default.width-t);var e=this.header.height/2;this.header.y<e?this.header.y=e:this.header.y+e>s.default.height&&(this.header.y=s.default.height-e);for(var i=this.bodys.length-1;i>=0;i--)this.bodys[i].render();this.header.render()}},{key:"x",get:function(){return this.header.x}},{key:"y",get:function(){return this.header.y}}]),t}();e.default=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(4),l=n(h),u=i(5),c=n(u),f=i(6),d=function(t){function e(){return r(this,e),a(this,Object.getPrototypeOf(e).apply(this,arguments))}return o(e,t),s(e,[{key:"init",value:function(t){this.canvas=t.canvas,this.ctx=this.canvas.getContext("2d"),this.width=t.width,this.height=t.height,this.scale=t.scale||1}},{key:"setScale",value:function(t){this.toScale=t}},{key:"clear",value:function(){this.ctx.clearRect(0,0,l.default.width,l.default.height)}},{key:"relative",value:function(t){return t+t*(1-this.scale)}},{key:"update",value:function(){this.toScale&&this.scale!==this.toScale&&(this.scale=this.toScale)}},{key:"render",value:function(){this.ctx.save();var t=l.default.x<0?-l.default.x:-l.default.x%this.paintBlockWidth,e=l.default.y<0?-l.default.y:-l.default.y%this.paintBlockHeight,i=l.default.x+l.default.width>this.paintWidth?this.paintWidth-l.default.x:t+l.default.width+this.paintBlockWidth,n=l.default.y+l.default.height>this.paintHeight?this.paintHeight-l.default.y:e+l.default.height+this.paintBlockHeight;this.ctx.fillStyle="#999",this.ctx.fillRect(t,e,i-t,n-e),this.ctx.lineWidth=.5,this.ctx.strokeStyle="#fff";for(var r=t;i>=r;r+=this.paintBlockWidth)for(var a=e;n>=a;a+=this.paintBlockHeight){var o=i-r,s=n-a,h=o<this.paintBlockWidth?o:this.paintBlockWidth,u=s<this.paintBlockHeight?s:this.paintBlockHeight;this.ctx.strokeRect(r,a,h,u)}this.ctx.restore()}},{key:"renderSmallMap",value:function(){var t=30,e=50,i=l.default.width-e-t,n=l.default.height-e-t,r=50,a=this.paintWidth>this.paintHeight?r:this.paintWidth*r/this.paintHeight,o=this.paintWidth>this.paintHeight?this.paintHeight*r/this.paintWidth:r,s=i-a/2,h=n-o/2,u=a/this.paintWidth,c=l.default.x*u+s,f=l.default.y*u+h,d=l.default.width*u,p=l.default.height*u;this.ctx.save(),this.ctx.globalAlpha=.8,this.ctx.beginPath(),this.ctx.arc(i,n,e,0,2*Math.PI),this.ctx.fillStyle="#000",this.ctx.fill(),this.ctx.stroke(),this.ctx.fillStyle="#999",this.ctx.fillRect(s,h,a,o),this.ctx.restore(),this.ctx.fillStyle="#fff",this.ctx.fillRect(c+d/2-2,f+p/2-2,4,4)}},{key:"scale",set:function(t){t>=1.6||1>t||this._scale===t||(this._scale=t,this.paintBlockWidth=this.relative(f.MAP_RECT_WIDTH),this.paintBlockHeight=this.relative(f.MAP_RECT_HEIGHT),this.paintWidth=this.relative(this.width),this.paintHeight=this.relative(this.height),this.emit("scale_changed"))},get:function(){return this._scale}}]),e}(c.default);e.default=new d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),s=n(o),h=function(){function t(){r(this,t)}return a(t,[{key:"init",value:function(t){var e=this;this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,s.default.on("scale_changed",function(){e.x=s.default.relative(e.x),e.y=s.default.relative(e.y)})}},{key:"track",value:function(t){this.translate(s.default.relative(t.x)-this.x-this.width/2,s.default.relative(t.y)-this.y-this.height/2)}},{key:"translate",value:function(t,e){this.x+=t,this.y+=e}}]),t}();e.default=new h},function(t,e,i){"use strict";function n(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function r(){}var a=Object.prototype.hasOwnProperty,o="function"!=typeof Object.create?"~":!1;r.prototype._events=void 0,r.prototype.eventNames=function(){var t,e=this._events,i=[];if(!e)return i;for(t in e)a.call(e,t)&&i.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},r.prototype.listeners=function(t,e){var i=o?o+t:t,n=this._events&&this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,s=new Array(a);a>r;r++)s[r]=n[r].fn;return s},r.prototype.emit=function(t,e,i,n,r,a){var s=o?o+t:t;if(!this._events||!this._events[s])return!1;var h,l,u=this._events[s],c=arguments.length;if("function"==typeof u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,i),!0;case 4:return u.fn.call(u.context,e,i,n),!0;case 5:return u.fn.call(u.context,e,i,n,r),!0;case 6:return u.fn.call(u.context,e,i,n,r,a),!0}for(l=1,h=new Array(c-1);c>l;l++)h[l-1]=arguments[l];u.fn.apply(u.context,h)}else{var f,d=u.length;for(l=0;d>l;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,e);break;case 3:u[l].fn.call(u[l].context,e,i);break;default:if(!h)for(f=1,h=new Array(c-1);c>f;f++)h[f-1]=arguments[f];u[l].fn.apply(u[l].context,h)}}return!0},r.prototype.on=function(t,e,i){var r=new n(e,i||this),a=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.once=function(t,e,i){var r=new n(e,i||this,!0),a=o?o+t:t;return this._events||(this._events=o?{}:Object.create(null)),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.removeListener=function(t,e,i,n){var r=o?o+t:t;if(!this._events||!this._events[r])return this;var a=this._events[r],s=[];if(e)if(a.fn)(a.fn!==e||n&&!a.once||i&&a.context!==i)&&s.push(a);else for(var h=0,l=a.length;l>h;h++)(a[h].fn!==e||n&&!a[h].once||i&&a[h].context!==i)&&s.push(a[h]);return s.length?this._events[r]=1===s.length?s[0]:s:delete this._events[r],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[o?o+t:t]:this._events=o?{}:Object.create(null),this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=o,t.exports=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.SPEED=3,e.BASE_ANGLE=200*Math.PI,e.MAP_RECT_WIDTH=150,e.MAP_RECT_HEIGHT=150},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(8),l=n(h),u=function(t){function e(t){r(this,e);var i=a(this,Object.getPrototypeOf(e).call(this,t));return i.tracer=t.tracer,i.tracerDis=i.distance,i.savex=i.tox=i.tracer.x-i.distance,i.savey=i.toy=i.tracer.y,i}return o(e,t),s(e,[{key:"update",value:function(){if(this.tracerDis>=this.distance){var t=this.tracer;this.tox=this.savex+(this.tracerDis-this.distance)*t.vx/t.speed,this.toy=this.savey+(this.tracerDis-this.distance)*t.vy/t.speed,this.velocity(this.tox,this.toy),this.tracerDis=0,this.savex=this.tracer.x,this.savey=this.tracer.y}this.tracerDis+=this.tracer.speed,Math.abs(this.tox-this.x)<=Math.abs(this.vx)?this.x=this.tox:this.x+=this.vx,Math.abs(this.toy-this.y)<=Math.abs(this.vy)?this.y=this.toy:this.y+=this.vy}},{key:"velocity",value:function(t,e){this.tox=t||this.tox,this.toy=e||this.toy;var i=this.tox-this.x,n=this.toy-this.y,r=Math.hypot(i,n);this.vx=this.speed*i/r||0,this.vy=this.speed*n/r||0}},{key:"distance",get:function(){return.2*this.tracer.width}}]),e}(l.default);e.default=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(9),l=n(h),u=i(3),c=n(u),f=i(6),d=function(t){function e(t){r(this,e);var i=a(this,Object.getPrototypeOf(e).call(this,t));return i.vx=f.SPEED,i.vy=0,i.img=t.img,i}return o(e,t),s(e,[{key:"setSize",value:function(t,e){this.width=t,this.height=e||t}},{key:"update",value:function(){this.x+=this.vx,this.y+=this.vy}},{key:"render",value:function(){this.update(),this.visible&&(this.hasOwnProperty("angle")?(c.default.ctx.save(),c.default.ctx.translate(this.paintX,this.paintY),c.default.ctx.rotate(this.angle-f.BASE_ANGLE-Math.PI/2),c.default.ctx.drawImage(this.img,-this.paintWidth/2,-this.paintHeight/2,this.paintWidth,this.paintHeight),c.default.ctx.restore()):c.default.ctx.drawImage(this.img,this.paintX-this.paintWidth/2,this.paintY-this.paintHeight/2,this.paintWidth,this.paintHeight))}},{key:"speed",set:function(t){this._speed=t,this.velocity()},get:function(){return this._speed?this._speed:this._speed=this.tracer?this.tracer.speed:f.SPEED}}]),e}(l.default);e.default=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(3),s=n(o),h=i(4),l=n(h),u=function(){function t(e){r(this,t),this.x=e.x,this.y=e.y,this.width=e.size||e.width,this.height=e.size||e.height}return a(t,[{key:"paintX",get:function(){return s.default.relative(this.x)-l.default.x}},{key:"paintY",get:function(){return s.default.relative(this.y)-l.default.y}},{key:"paintWidth",get:function(){return s.default.relative(this.width)}},{key:"paintHeight",get:function(){return s.default.relative(this.height)}},{key:"visible",get:function(){var t=this.paintX,e=this.paintY,i=this.paintWidth/2,n=this.paintHeight/2;return t+i>0&&t-i<l.default.width&&e+n>0&&e-n<l.default.height}}]),t}();e.default=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=function d(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var r=Object.getPrototypeOf(t);return null===r?void 0:d(r,e,i)}if("value"in n)return n.value;var a=n.get;if(void 0!==a)return a.call(i)},l=i(8),u=n(l),c=i(6),f=function(t){function e(t){r(this,e);var i=a(this,Object.getPrototypeOf(e).call(this,t));return i.angle=c.BASE_ANGLE+Math.PI/2,i.toAngle=i.angle,i}return o(e,t),s(e,[{key:"directTo",value:function(t){var e=Math.abs(this.toAngle%(2*Math.PI)),i=~~(this.toAngle/(2*Math.PI));this.toAngle=t,e>=3*Math.PI/2&&this.toAngle<=Math.PI/2?i++:e<=Math.PI/2&&this.toAngle>=3*Math.PI/2&&i--,this.toAngle+=i*Math.PI*2}},{key:"velocity",value:function(){var t=this.angle%(2*Math.PI),e=Math.abs(this.speed*Math.sin(t)),i=Math.abs(this.speed*Math.cos(t));t<Math.PI/2?(this.vx=e,this.vy=-i):t<Math.PI?(this.vx=e,this.vy=i):t<3*Math.PI/2?(this.vx=-e,this.vy=i):(this.vx=-e,this.vy=-i)}},{key:"update",value:function(){this.turnAround(),this.velocity(),h(Object.getPrototypeOf(e.prototype),"update",this).call(this)}},{key:"turnAround",value:function(){var t=this.toAngle-this.angle,e=.045;Math.abs(t)<=e?this.toAngle=this.angle=c.BASE_ANGLE+this.toAngle%(2*Math.PI):this.angle+=Math.sign(t)*e}}]),e}(u.default);e.default=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(9),l=n(h),u=i(3),c=n(u),f=function(t){function e(t){r(this,e);var i=a(this,Object.getPrototypeOf(e).call(this,t));return i.point=t.point,i.lightSize=i.width/2,i.lightDirection=!0,i}return o(e,t),s(e,[{key:"update",value:function(){var t=1;this.lightSize+=this.lightDirection?t:-t,(this.lightSize>this.width||this.lightSize<this.width/2)&&(this.lightDirection=!this.lightDirection)}},{key:"render",value:function(){this.visible&&(this.update(),c.default.ctx.fillStyle="#fff",c.default.ctx.globalAlpha=.2,c.default.ctx.beginPath(),c.default.ctx.arc(this.paintX,this.paintY,this.lightSize*this.paintWidth/this.width,0,2*Math.PI),c.default.ctx.fill(),c.default.ctx.globalAlpha=1,c.default.ctx.beginPath(),c.default.ctx.arc(this.paintX,this.paintY,this.paintWidth/2,0,2*Math.PI),c.default.ctx.fill())}}]),e}(l.default);e.default=f}]);